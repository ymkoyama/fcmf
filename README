#Python codes and Bash scripts to generate figures and tables for an article:
# Title: Exponential sum approximations of finite completely monotonic functions
# Author: Yohei M. Koyama
#which will be uploaded to arXiv.

#We used the following versions:
# Python 3.7.3
# mpmath 1.1.0
# matplotlib 3.0.3

#1. Test
pytest test_gaussian_quadrature.py -v -s
pytest test_phi.py -v -s
pytest test_cmf.py -v -s

#2. Generaiton of table1,2 and fig2,3,4
#fig1 was generated by LaTeX with TikZ. The file will be uploaded to arXiv.
python table1.py | tee table1.dat
python table2.py | tee table2.dat
python fig2.py | tee fig2.log
python fig3.py | tee fig3.log
python fig4.py | tee fig4.log

#Following scripts
# run_EMh.sh
# run_best_init.sh
# run_best.sh
# run_gauss.sh
#use "pjsub" command, which is a job scheduler used in our computer system
#(HOKUSAI BigWaterfall system provided by RIKEN).
#Please rewrite these scripts to fit your computer system.

#3. Operations for fig5
bash run_EMh.sh
#Check of the accuracy of E_{M,h} compared with prec=500 (not used in fig)
bash MRE_EMh.sh | tee MRE_EMh.dat
python fig5.py | tee fig5.log

#4. Operations for fig6
bash run_best_init.sh
python fig6.py | tee fig6.log

#5. Operations for fig7,8,9
bash run_best.sh
bash run_gauss.sh
python fig7.py | tee fig7.log
python fig8.py | tee fig8.log
python fig9.py | tee fig9.log

#6. The operation for figures of x-dependent error curves
#The following script uses "pdfunite" command
bash fig_EMx.sh
#The above script generates following files, which will be uploated to Zenodo:
#inverse_power0.5_a0.5_b1/inverse_power0.5_a0.5_b1_EMx.pdf
#inverse_power1_a0.5_b1/inverse_power1_a0.5_b1_EMx.pdf
#inverse_power2_a0.5_b1/inverse_power2_a0.5_b1_EMx.pdf
#inverse_power0.5_a0.0009765625_b1/inverse_power0.5_a0.0009765625_b1_EMx.pdf
#inverse_power1_a0.0009765625_b1/inverse_power1_a0.0009765625_b1_EMx.pdf
#inverse_power2_a0.0009765625_b1/inverse_power2_a0.0009765625_b1_EMx.pdf
